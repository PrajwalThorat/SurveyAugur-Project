(self.webpackChunksurveyaugur_webapp=self.webpackChunksurveyaugur_webapp||[]).push([[426],{8426:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ShareModule:()=>J});var a=n(8583),o=n(8341),r=n(2789),i=n(4655),s=n(6461),l=n(2238),c=n(5304),u=n(205);class m{}var d=n(7716),p=n(1841),h=n(3679),g=n(8295),f=n(3166),v=n(1095),w=n(6627);function y(e,t){1&e&&(d.TgZ(0,"mat-icon",13),d._uU(1,"cancel"),d.qZA())}function b(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"mat-chip",11),d.NdJ("removed",function(){const t=d.CHM(e).$implicit;return d.oxw().remove(t)}),d._uU(1),d.YNc(2,y,2,0,"mat-icon",12),d.qZA()}if(2&e){const e=t.$implicit,n=d.oxw();d.Q6J("selectable",n.selectable)("removable",n.removable),d.xp6(1),d.hij(" ",e," "),d.xp6(1),d.Q6J("ngIf",n.removable)}}let Z=(()=>{class e{constructor(e,t,n){this.data=e,this.http=t,this.router=n,this.surveyUrl="",this.mailDetails=new m,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[s.K5,s.OC],this.mailId=[],this.surveyUrl=e.surveyurl,this.surveyId=e.surveyId}ngOnInit(){}add(e){const t=(e.value||"").trim();t&&this.mailId.push(t),e.chipInput.clear()}remove(e){const t=this.mailId.indexOf(e);t>=0&&this.mailId.splice(t,1)}sendMailIds(e){this.url="surveyengine/api/v1/surveys/",this.mailDetails.mailIds=this.mailId,this.mailDetails.message=e.message,this.http.post(this.url+this.surveyId+"/share",this.mailDetails).pipe((0,c.K)(this.handleError)).subscribe(e=>{console.log(e)},e=>{console.log(e),this.router.navigateByUrl("/error",{state:{errorCode:e}})})}handleError(e){return(0,u._)(e.status)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(l.WI),d.Y36(p.eN),d.Y36(i.F0))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-emaildialog"]],decls:23,vars:5,consts:[[1,"ex",3,"ngSubmit"],["basicForm","ngForm"],["appearance","fill",1,"example-full-width"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Enter valid mail id..",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["matInput","","ngModel","","name","message",1,"ex1"],[1,"example-button-row"],["mat-raised-button","","color","primary","type","submit","mat-dialog-close",""],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"form",0,1),d.NdJ("ngSubmit",function(){d.CHM(e);const n=d.MAs(1);return t.sendMailIds(n.value)}),d.TgZ(2,"div"),d.TgZ(3,"mat-form-field",2),d.TgZ(4,"mat-label"),d._uU(5,"Receipient Mail"),d.qZA(),d.TgZ(6,"mat-chip-list",3,4),d.YNc(8,b,3,4,"mat-chip",5),d.TgZ(9,"input",6),d.NdJ("matChipInputTokenEnd",function(e){return t.add(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"div"),d.TgZ(11,"mat-form-field",2),d.TgZ(12,"mat-label"),d._uU(13,"Survey Url"),d.qZA(),d.TgZ(14,"input",7),d.NdJ("ngModelChange",function(e){return t.surveyUrl=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div"),d.TgZ(16,"mat-form-field",2),d.TgZ(17,"mat-label"),d._uU(18,"Message"),d.qZA(),d._UZ(19,"textarea",8),d.qZA(),d.qZA(),d.TgZ(20,"div",9),d.TgZ(21,"button",10),d._uU(22,"Send"),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=d.MAs(7);d.xp6(8),d.Q6J("ngForOf",t.mailId),d.xp6(1),d.Q6J("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),d.xp6(5),d.Q6J("ngModel",t.surveyUrl)}},directives:[h._Y,h.JL,h.F,g.KE,g.hX,o.qn,a.sg,o.oH,f.Nt,h.Fj,h.JJ,h.On,v.lW,l.ZT,o.HS,a.O5,w.Hw,o.qH],styles:[".ex[_ngcontent-%COMP%]{margin-left:10%}.example-button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.example-full-width[_ngcontent-%COMP%]{width:80%}"]}),e})();function C(e,t){1&e&&(d.TgZ(0,"th",12),d._uU(1,"SNo. "),d.qZA())}function A(e,t){if(1&e&&(d.TgZ(0,"td",13),d._uU(1),d.qZA()),2&e){const e=t.index;d.xp6(1),d.hij(" ",e+1," ")}}function I(e,t){1&e&&(d.TgZ(0,"th",12),d._uU(1," Survey Title "),d.qZA())}function _(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"td",14),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw(2).openDialog(t.surveyUrl,t.surveyId)}),d._uU(1),d.qZA()}if(2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.surveyTitle," ")}}function x(e,t){1&e&&d._UZ(0,"tr",15)}function T(e,t){1&e&&d._UZ(0,"tr",16)}function M(e,t){if(1&e&&(d.TgZ(0,"table",4),d.ynx(1,5),d.YNc(2,C,2,0,"th",6),d.YNc(3,A,2,1,"td",7),d.BQk(),d.ynx(4,8),d.YNc(5,I,2,0,"th",6),d.YNc(6,_,2,1,"td",9),d.BQk(),d.YNc(7,x,1,0,"tr",10),d.YNc(8,T,1,0,"tr",11),d.qZA()),2&e){const e=d.oxw();d.Q6J("dataSource",e.dataSource),d.xp6(7),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns)}}function k(e,t){1&e&&(d.TgZ(0,"h3"),d._uU(1,"Sorry!! There are no Active Surveys to share......."),d.qZA())}let O=(()=>{class e{constructor(e,t){this.http=e,this.dialog=t,this.displayedColumns=["position","name"],this.activeSurvey=[]}ngOnInit(){this.http.get("/surveyengine/api/v1/surveys").subscribe(e=>{console.log(e.result),this.activeSurvey=e.result,console.log(this.activeSurvey),this.dataSource=new r.by(this.activeSurvey)})}openDialog(e,t){console.log("me"),console.log(e),this.dialog.open(Z,{width:"40%",data:{surveyurl:e,surveyId:t}}).afterClosed().subscribe(e=>{console.log("The dialog was closed")})}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.eN),d.Y36(l.uw))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-activesurvey"]],decls:6,vars:2,consts:[[1,"sub-heading",2,"margin-top","30px"],[2,"width","100%"],["mat-table","","class","mat-elevation-z8","style","margin-left:25%",3,"dataSource",4,"ngIf","ngIfElse"],["elseBlock",""],["mat-table","",1,"mat-elevation-z8",2,"margin-left","25%",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","tableHeader",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"tableHeader"],["mat-cell",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){if(1&e&&(d.TgZ(0,"p",0),d._uU(1,"Surveys"),d.qZA(),d._UZ(2,"hr",1),d.YNc(3,M,9,3,"table",2),d.YNc(4,k,2,0,"ng-template",null,3,d.W1O)),2&e){const e=d.MAs(5);d.xp6(3),d.Q6J("ngIf",t.dataSource.filteredData.length>0)("ngIfElse",e)}},directives:[a.O5,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,r.ge,r.ev,r.XQ,r.Gk],styles:[".sub-heading[_ngcontent-%COMP%]{font-size:18px;font-weight:700;font-family:Roboto}.Active[_ngcontent-%COMP%]   Surveys[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:blue}table[_ngcontent-%COMP%]{width:38%}.tableHeader[_ngcontent-%COMP%]{background-color:#1e90ff;font-size:medium;justify-content:center}.mat-column-position[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;flex:0 0 0%!important;width:20%!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-Actions[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{justify-content:center}.mat-column-Actions[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;flex:0 0 0%!important;width:20%!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}"]}),e})();const S=function(){return["activesurveylist"]},q=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-share"]],decls:3,vars:2,consts:[["mat-raised-button","","color","warn",3,"routerLink"]],template:function(e,t){1&e&&(d.TgZ(0,"button",0),d._uU(1,"Share Survey Link"),d.qZA(),d._UZ(2,"router-outlet")),2&e&&d.Q6J("routerLink",d.DdM(1,S))},directives:[v.lW,i.rH,i.lC],styles:[""]}),e})()},{path:"activesurveylist",component:O}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[i.Bz.forChild(q)],i.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.ez,U,r.p0,o.Hi,l.Is,f.c,w.Ps,h.u5,h.UX,v.ot]]}),e})()}}]);